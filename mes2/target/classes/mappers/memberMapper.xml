<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
  
  
  <mapper namespace="com.mes2.mapper.MemberMapper">
  
  	<!-- 로그인 -->
  		<select id ="loginMember" resultType="com.mes2.system.domain.MemberDTO">
  			select * from employees
  			where user_id=#{user_id} and user_pw=#{user_pw}
  		</select>
  
  
  	<!-- 사원정보조회  -->
  		<select id="getMember" resultType="com.mes2.system.domain.MemberDTO">
  			select * from employees
  			where user_id=#{user_id}
  		</select>
  
  
  	<!-- 사원정보수정 -->
  	<update id="updateMember">
  		update employees set user_name=#{user_name},user_department=#{user_department},user_position=#{user_position},user_tel=#{user_tel},user_auth=#{user_auth},user_updatedate=now()
  		where user_pw=#{user_pw} and user_id=#{user_id}
  	</update>
  
  
  
    <!-- 사원정보삭제 -->
  	<delete id="deleteMember">
  		delete from employees 
  		where user_pw =#{user_pw} and user_id=#{user_id}
  	</delete>
  
   
  	
  	<!-- 사원등록 -->
  	<insert id="insertMember">
  		insert into employees(user_id,user_pw,user_name,user_department,user_position,user_jumin,user_joindate,user_tel,user_auth)
  		values(#{user_id},#{user_pw},#{user_name},#{user_department},#{user_position},#{user_jumin},#{user_joindate},#{user_tel},#{user_auth})	
  	</insert>
  	
  
 	<!--사원목록리스트--> 	
  	<select id="getMemberList" resultType="com.mes2.system.domain.MemberDTO">
  		select*from employees order by user_num asc
  	</select>
  	
  	
  
  	<!-- 아이디중복체크  -->
  	<select id="duplicateId" resultType="com.mes2.system.domain.MemberDTO">
  		select user_id from employees where user_id=#{user_id}
  	</select>
  
  
  
  
  
  
  </mapper>